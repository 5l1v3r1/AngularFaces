<f:view xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:ng="http://xmlns.jcp.org/jsf/passthrough">
	<h:head>
		<meta charset="utf-8"></meta>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"></meta>
		<meta name="viewport" content="width=device-width"></meta>
		<title>AngularFaces 2.0 Car Shop</title>
		<link rel="stylesheet" href="css/bootstrap.min.css"></link>
		<link rel="stylesheet" href="css/bootstrap-theme.min.css"></link>
		<link rel="stylesheet" href="css/ng-table.css"></link>
		<style type="text/css">
			.header { background-color: #ccc; }
			.ng-table-responsive { border: 1px solid; border-color: #ddd; }
			.carFilterBox { border: 5px solid #FF7400;
			                width: 400px;
			                height: 200px;
			                padding:10px;
							-webkit-border-bottom-right-radius: 40px;
							-moz-border-radius-bottomright: 40px;
							border-bottom-right-radius: 40px;
			}
			.carFilterButton { background-color:#ff7400; float:right; border-color:#ff7400; border-radius:5px}	
		</style>
		<script src="ng-table.js"></script>
	    <script data-require="ng-table-export@0.1.0" data-semver="0.1.0" src="http://bazalt-cms.com/assets/ng-table-export/0.1.0/ng-table-export.js"></script>
	</h:head>
	<h:body ng-app="CarShop" ng-controller="CarShopController" id="angular" style="padding-left:10px">
		<form id="myForm" style="width: 700px">
			<h2>
				<translate value="Welcome to the AngularFaces 2.0 car shop!" />
			</h2>
			<i18n value="Europe's most angular car shop..." />
			<br />
			<br />
			<ngsync value="{{carPool.carPool}}" direction="serverToClient" />
			<ngsync value="{{optionBean.brands}}" direction="serverToClient" />
			<ngsync value="{{optionBean.colors}}" direction="serverToClient" />
			<ngsync value="{{optionBean.types}}" direction="serverToClient" />
			<ngsync value="{{optionBean.prices}}" direction="serverToClient" />
			<ngsync value="{{optionBean.mileages}}" direction="serverToClient" />
			<ngsync value="{{optionBean.fuels}}" direction="serverToClient" />
			<ngsync value="{{optionBean.years}}" direction="serverToClient" />
			<ngsync value="{{filterBean.counter}}" direction="serverToClient" />
			<div class="carFilterBox"> 
				<div>What kind of car are you looking for?
				</div> 
				<div>
					<table style="border-spacing:10px">
						<tr>
							<td width="150px">Brand</td>
							<td width="110px">Type</td>
							<td width="100px">Price</td>
						</tr>
						<tr>
							<td>
								<select id="filterbrand" ng-model="filterBean.brand" ng-options="brand for brand in optionBean.brands track by brand">
      								<option value="">-- choose brand --</option>
								</select>
							    <input class="filterHelper hidden" jsf:value="{{filterBean.brand}}" addLabel="false" addMessage="false">
							    	<f:ajax listener="#{filterBean.doFilter}" render="@none" />
							    </input>
							</td>
							<td>
							    <select ng-model="filterBean.type" ng-options="type for type in optionBean.types track by type">
      								<option value="">-- choose type --</option>
								</select>
							    <input class="filterHelper hidden" jsf:value="{{filterBean.type}}" addLabel="false" addMessage="false" />
							</td>
							<td>
							    <select ng-model="filterBean.price" ng-options="price for price in optionBean.prices track by price">
      								<option value="">-- choose price --</option>
								</select>
							    <input class="filterHelper hidden" jsf:value="{{filterBean.price}}" addLabel="false" addMessage="false" />
							</td>
						</tr>
						<tr>
							<td style="padding-top:15px">Mileage</td>
							<td style="padding-top:15px">Fuel</td>
							<td style="padding-top:15px">Color</td>
						</tr>
						<tr>
							<td>
							    <select ng-model="filterBean.mileage" ng-options="mileage for mileage in optionBean.mileages track by mileage">
      								<option value="">-- choose mileage --</option>
								</select>
							    <input class="filterHelper hidden" jsf:value="{{filterBean.mileage}}" addLabel="false" addMessage="false" />
							</td>
							<td>
							    <select ng-model="filterBean.fuel" ng-options="fuel for fuel in optionBean.fuels track by fuel">
      								<option value="">-- choose fuel --</option>
								</select>
							    <input class="filterHelper hidden" jsf:value="{{filterBean.fuel}}" addLabel="false" addMessage="false" />
							</td>
							<td>   
								<select ng-model="filterBean.color" ng-options="color for color in optionBean.colors track by color">
      								<option value="">-- choose color --</option>
    							</select>
							    <input class="filterHelper hidden" jsf:value="{{filterBean.color}}" addLabel="false" addMessage="false" />
    						</td>
						</tr>
						<tr>
							<td>
								<select ng-model="filterBean.year" ng-options="year for year in optionBean.years track by year">
      								<option value="">-- choose color --</option>
    							</select>
							    <input class="filterHelper hidden" jsf:value="{{filterBean.year}}" addLabel="false" addMessage="false" />
							</td>
							<td colspan="1" style="padding-top: 15px">
								<button id="listCarsID" class="carFilterButton" jsf:action="#{filterBean.doFilterAction}" >{{filterBean.counter}} cars
								</button>
							</td>
						</tr>
					</table>
				</div>
			</div>
		</form>
	</h:body>
</f:view>
	   		