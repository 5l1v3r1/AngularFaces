<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="Description"
	content="AngularFaces brings AngularJS to the JSF world">
<title>Client Side Bean Validation</title>
	<link rel="stylesheet" href="../../bootstrap.min.css" type="text/css">
	<script type="text/javascript" src="../../syntaxhighlighter/shCore.js"></script>
	<script type="text/javascript" src="../../syntaxhighlighter/shBrushJScript.js"></script>
	<script type="text/javascript" src="../../syntaxhighlighter/shBrushXml.js"></script>
	<script type="text/javascript" src="../../syntaxhighlighter/shBrushJava.js"></script>
	<script type="text/javascript" src="../../syntaxhighlighter/shBrushBat.js"></script>
	<link type="text/css" rel="stylesheet" href="../../syntaxhighlighter/shCoreDefault.css"/>
	<script type="text/javascript">SyntaxHighlighter.all();</script>
</head>
<body>
	<div id="wrapper">
		<header class="header header-fixed">
			<section class="navbar navbar-inverse docs-navbar-primary">
				<div class="container">
					<div class="row">
						<div class="col-md-9 header-branding">
							<ul class="nav navbar-nav">
								<li class="divider-vertical"></li>
								<li class="dropdown"><a
									href="http://angularfaces.com">What is
										AngularFaces? </a></li>
								<li class="dropdown"><a
									href="http://www.angularfaces.com/tutorial">Tutorial </a></li>
								<li class="divider-vertical"></li>
								<li><a href="http://www.beyondjava.net"><i
										class="icon-home icon-white"></i>http://BeyondJava.net</a></li>
							</ul>
						</div>
					</div>
				</div>
			</section>
		</header>
	</div>


	<section role="main" class="container main-body">
		<div class="main-grid main-body-grid">
			<div class="col-md-3">
				<div class="side-navigation">
					<ul class="nav-list naked-list">
						<li class="nav-index-group"><a
							href="/tutorial/index.html"
							class="nav-index-group-heading active">Tutorial</a>
							<ul class="aside-nav">
								<li class="nav-index-listing active"><a tabindex="2"
									href="/tutorial/step_00/index.html">0 - Bootstrapping</a></li>
								<li class="nav-index-listing active">
									<a href="/tutorial/step_01/index.html" >1 - Labels and messages</a>
								</li>
								<li class="nav-index-listing active">
									<a href="/tutorial/step_02/index.html" >2 - Foreign language support</a>
								</li>
								<li class="nav-index-listing active">
									<a href="/tutorial/step_03/index.html" >3 - Angular input fields</a>
								<li class="nav-index-listing active">
									<a href="/tutorial/step_04/index.html" >4 - Using mustaches in JSF attributes</a>
								</li>
								<li class="nav-index-listing active">
									<a href="/tutorial/step_05/index.html" >5 - Client side bean validation (JSR 303)</a>
								</li>
								<li class="nav-index-listing active">
									<a href="/tutorial/step_06/index.html" >6 - Prime:datatable vs. ngtable</a>
								</li>
								<li class="nav-index-listing active">
									<a href="/tutorial/step_07/index.html" >7 - The AngularFaces way of AJAX</a>
								</li>
							</ul></li>
					</ul>
				</div>
			</div>
			<div class="col-md-9">
				<div>
					<h1>Client Side Bean Validation</h1>
					<p>AngularFaces reads JSR 303 Bean Validation API annotations and evaluates them on the client. You've already seen some of it in the previous examples:</p>
					<img alt="AngularFaces 2.0 JSF Bean Validation" src="bean_validations_english.png">
					<p>The validation constraints are checked on the client side by AngularJS. However, they are defined on the server side, using the new JSR 303 Bean Validation API:<p>
					
					<script type="syntaxhighlighter" class="brush: java"><![CDATA[
@ManagedBean
@SessionScoped
public class Customer {
	private Date dateOfBirth;
	
	@Email
	private String emailAddress;
	
	@NotNull
	@Size(min=5, max=20)
	private String firstName;
	
	private boolean iAgreeToTheTermsAndConditions;
	
	@NotNull
	@Size(min=5, max=20)
	private String lastName;
	
	@Min(18)
	@Max(130)
	private int age;
	
	// plus getters and setters
}
					]]></script>
					
					<h3>Which annotations are evaluated on the client?</h3>
					<ul><li>@NotNull (denotes a mandatory field in AngularFaces - slightly different to the JSR 303 specification)</li>
					<li>@Min and @Max (only for numerical values)</li>
					<li>@Size to define minimal and/or maximal input lengths</li>
					</ul>
					<h3>Type information</h3>
					<p>AngularFaces recognizes numerical values and enforces numerical input on the client. As a side effect, number fields automatically bear a spinner in many
					modern browsers.</p>
					<p>Dates are also recognized and rendered as an HTML5 date field. Hence modern browsers automatically add a date picker to simple input fields. Both standard
					JSF input fields and the new HTML5-style input fields benefit from this feature. The same applies to &lt;prime:inputText&gt;. AngularFaces converts
					simple &lt;prime:inputText&gt; automatically to date fields if the corresponding JSF bean attribute is an instance of java.util.Date. However, 
					&lt;prime:calendar&gt; is not modified by AngularFaces, so you're free to choose an HTML5 layout or a PrimeFaces layout.</p>  
					
					<h3>Internationalization</h3>
					<p>Of course, AngularFaces translates the error messages to foreign languages. Currently, English, Spanish, French and German are supported. Please drop me
					a note if you want to provide another translation or fix an error to an existing translation.<p>
					<p>To provide a language that's not supported out of the box, or to modify an existing error message bundle, put a file called "messages_(language shortcode).js"
					in the folder "resources/AngularFaces". Best you copy the English version of the original files. It's a simple set of key-value-pairs of English messages and your
					translation:</p>
					<script type="syntaxhighlighter" class="brush: java"><![CDATA[
angularFacesMessages={
		"This number must be at least {}.":"Dieser Wert muß größer oder gleich {} sein.",
		"This number must be less or equal {}.":"Dieser Wert muß kleiner oder gleich {} sein.",
		"Please enter a valid number.":"Bitte geben Sie eine gültige Zahl ein.",
		"Please fill out this field.":"Bitte füllen Sie das Feld aus.",
		"A validation rule is violated.":"Bitte überprüfen Sie Ihre Eingabe.",
		"At least {} characters required.": "Bitte geben Sie mindestens {} Zeichen ein.",
		"{} characters accepted at most.":"Maximal {} Zeichen erlaubt.",
		"Please enter a valid integer number.":"Bitte geben Sie nur Ziffern ein."
		};					]]></script>
					<p>The original message bundles are in the folder "META-INF/resources/AngularFaces" of the jar file. As mentioned above, your
					translation has to be in the standard JSF resource of your application. For instance, put your portuguese translation "messages_pt.js" here:</p>
					<img src="message_project_layout.png">
					<br />
					<br />
					<p>AngularFaces automatically chooses the target language according to the browsers settings. For instance, in a European browser the JSF view I showed above
					might look like so:</p>
					
					<img alt="AngularFaces 2.0 JSF Bean Validation" src="bean_validations_german.png">
					<img alt="AngularFaces 2.0 JSF Bean Validation" src="bean_validations_spanish.png">
					<br />
					<br />
					
					<p>For the sake of completeness, here's the JSF file:<p>
					
					<script type="syntaxhighlighter" class="brush: xml"><![CDATA[
		<h:form id="angular">
			<prime:panel header="Contact information">
				<prime:panelGrid columns="3">
					<prime:inputText value="#{customer.lastName}" />
					<prime:inputText value="#{customer.firstName}" />
					<prime:inputText value="{{customer.dateOfBirth}}" />
					<prime:inputText value="{{customer.age}}" />
					<prime:inputText value="#{customer.emailAddress}" />
					<prime:selectBooleanCheckbox value="#{customer.IAgreeToTheTermsAndConditions}" />
				</prime:panelGrid>
				<prime:commandButton value="save" update="angular" action="#{customer.save}" />
			</prime:panel>
		</h:form>
					]]></script>
					 
				
					<br />
					<br />
					<br />
				</div>
			</div>
		</div>
	</section>

	<footer class="footer"
		style="position: fixed; bottom: 0px; width: 100%; background-color: #000; padding: 10px; color: #777">
		<span class="col-md-2"></span> <span class="col-md-4"> (C) 2014
			by Stephan Rauh (<a href="http://www.beyondjava.net">http://www.beyondjava.net</a>).
		</span> <span class="col-md-4"> Page design inspired by <a target="#"
			href="https://angularjs.org/">https://angularjs.org/</a>.
		</span>
	<span class="col-md-2">Legal notes:<a target="#" href="http://www.angularfaces.com/tutorial/legal/disclaimer.html">disclaimer</a> and <a target="#" href="http://www.angularfaces.com/tutorial/legal/impressum.html">impressum</a>. </span> </footer>
	</div>


</body>
</html>